import{d as rt,r as q,w as st,b as it,o as ct,c as at,a as c,e as X,v as H,u as g,i as L,f as le}from"./app-DbNKeRN4.js";function dt(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}const lt=self.crypto;function ut(o){const e=new Uint8Array(o);return lt.getRandomValues(e),e}var Ne={randomBytes:ut};const{randomBytes:ht}=Ne,j=16;let _t=class{compare(e,t){const n=e.findIndex((r,s)=>r!==t[s]);return~n&&Math.sign(e[n]-t[n])}generateOneFilled(){return new Uint8Array(j).fill(255)}generateRandomFilled(){return ht(j)}generateZeroFilled(){return new Uint8Array(j).fill(0)}};var f=new _t;class U extends Error{get name(){return this.constructor.name}}let pt=class extends U{},mt=class extends U{},ft=class extends U{},gt=class extends U{},Et=class extends U{};var V={Id128Error:U,ClockSequenceOverflow:pt,InvalidBytes:mt,InvalidEncoding:ft,InvalidEpoch:gt,UnsupportedVersion:Et};const{InvalidEpoch:ue}=V,he=0,_e=Math.pow(2,48);let It=class{fromEpoch(e,t){return new Date(t+e)}toEpoch(e,t=null){const r=(t===null?Date.now():Number.isInteger(t)?t:t instanceof Date?t.getTime():(()=>{throw new ue(`Failed to coerce time [${t}] to epoch`)})())-e;if(r<he||r>=_e){const s=new Date(he+e).toISOString(),u=new Date(_e-1+e).toISOString();throw new ue(`Epoch must be between ${s} and ${u}`)}return r}};var D=new It;const wt=f,pe=Symbol("bytes");let Ct=class{constructor(e){this[pe]=e}clone(){return new this.constructor(this.bytes.slice())}get bytes(){return this[pe]}get[Symbol.toStringTag](){return this.constructor.name}compare(e){return wt.compare(this.bytes,e.bytes)}equal(e){return this.compare(e)===0}};var Ve={BaseId:Ct};const G=f,me=D,{BaseId:$t}=Ve,Me=0,fe=0,K=Math.pow(2,32),v=255;function Be(o,e){const t=o%K,n=(o-t)/K;let r=Me-1;e[++r]=n>>>8&v,e[++r]=n>>>0&v,e[++r]=t>>>24&v,e[++r]=t>>>16&v,e[++r]=t>>>8&v,e[++r]=t>>>0&v}let Tt=class extends $t{static generate({time:e}={}){e=me.toEpoch(fe,e);let t=G.generateRandomFilled();return Be(e,t),new this(t)}static MIN(){return new this(G.generateZeroFilled())}static MAX(){return new this(G.generateOneFilled())}get time(){let e=Me-1;const t=0|this.bytes[++e]<<8|this.bytes[++e]<<0,n=0|this.bytes[++e]<<24|this.bytes[++e]<<16|this.bytes[++e]<<8|this.bytes[++e]<<0,r=t*K+(n>>>0);return me.fromEpoch(fe,r)}};var be={Ulid:Tt,setTime:Be};const{Ulid:vt,setTime:At}=be,Ut=f,yt=D,{ClockSequenceOverflow:Ot}=V,St=0,De=6,ke=8,Ft=0;let W,Z;function Rt(o){for(let e=ke-1,t=De-1;e>t;--e)if(o[e]===255)o[e]=0;else{++o[e];return}throw new Ot("Exhausted clock sequence")}function xt(o){o[De]&=127}function Nt(o){for(let e=St;e<ke;++e)o[e]=W.bytes[e]}let qe=class extends vt{static reset(){Z=-1,W=this.MIN()}static generate({time:e}={}){e=yt.toEpoch(Ft,e);let t=Ut.generateRandomFilled();return e<=Z?(Nt(t),Rt(t)):(At(e,t),xt(t),Z=e),W=new this(t)}};qe.reset();var Vt={UlidMonotonic:qe};const{BaseId:Mt}=Ve,ge=f,J=8,z=6;function ee(o,e){e[J]&=255>>>o+1,e[J]|=(7<<3-o&7)<<5}function te(o,e){e[z]&=15,e[z]|=o<<4}let Bt=class extends Mt{static MIN(){let e=ge.generateZeroFilled();return ee(this.VARIANT,e),te(this.VERSION,e),new this(e)}static MAX(){let e=ge.generateOneFilled();return ee(this.VARIANT,e),te(this.VERSION,e),new this(e)}get variant(){const e=this.bytes[J]>>>5;return e===7?3:(e&6)===6?2:(e&4)===4?1:0}get version(){return this.bytes[z]>>>4}};var M={Uuid:Bt,setVersion:te,setVariant:ee};const{randomBytes:bt}=Ne,P=Symbol("mac-address");class Dt{constructor(){this.reset()}get mac_address(){let e=this[P];return e||(e=this[P]=bt(6),e[0]|=1),e}reset(){this[P]=null}}var Xe=new Dt;const He=f,Ee=D,kt=Xe,{Uuid:qt,setVariant:Xt,setVersion:Ht}=M,Le=0,Ie=2,F=8,je=10,ce=Math.pow(2,14),we=Date.parse("1582-10-15Z"),ne=Math.pow(2,12),oe=Math.pow(2,20),p=255;let $,A,R;function Ge(){$=($+1)%ce}function Lt(o,e){if($===null){const n=He.generateRandomFilled();$=(0|n[F+0]<<8|n[F+1]<<0)%ce}else o<R&&Ge();let t=F-1;e[++t]=$>>>8&p,e[++t]=$>>>0&p}function jt(o,e){for(let t=0;t<6;++t)e[je+t]=o[t]}function Gt(o,e){A=o>R?0:A+1,A===ne&&(A=0,Ge());const t=o%oe,n=t*ne+A,r=(o-t)/oe;let s=Le-1;e[++s]=n>>>24&p,e[++s]=n>>>16&p,e[++s]=n>>>8&p,e[++s]=n>>>0&p,e[++s]=r>>>8&p,e[++s]=r>>>0&p,e[++s]=r>>>24&p,e[++s]=r>>>16&p}let Ze=class extends qt{static get VARIANT(){return 1}static get VERSION(){return 1}static reset(){$=null,A=-1,R=-1}static generate({node:e,time:t}={}){t=Ee.toEpoch(we,t);let n=He.generateZeroFilled();return Gt(t,n),Lt(t,n),jt(e||kt.mac_address,n),Xt(this.VARIANT,n),Ht(this.VERSION,n),t>R&&(R=t),new this(n)}get clock_sequence(){return(0|this.bytes[F]<<8|this.bytes[F+1])&ce-1}get hires_time(){return(0|this.bytes[Ie]<<8|this.bytes[Ie+1])&ne-1}get node(){return this.bytes.slice(je)}get time(){let e=Le-1;const t=0|this.bytes[++e]<<12|this.bytes[++e]<<4|this.bytes[++e]>>>4;++e;const r=(0|this.bytes[++e]<<8|this.bytes[++e]<<0|(this.bytes[++e]&15)<<24|this.bytes[++e]<<16)*oe+t;return Ee.fromEpoch(we,r)}};Ze.reset();var Zt={Uuid1:Ze};const Pt=f,{Uuid:Qt,setVariant:Yt,setVersion:Kt}=M;let Wt=class extends Qt{static get VARIANT(){return 1}static get VERSION(){return 4}static generate(){let e=Pt.generateRandomFilled();return Yt(this.VARIANT,e),Kt(this.VERSION,e),new this(e)}};var Jt={Uuid4:Wt};const Pe=f,Ce=D,zt=Xe,{Uuid:en,setVariant:tn,setVersion:nn}=M,Qe=0,$e=6,x=8,Ye=10,ae=Math.pow(2,14),Te=Date.parse("1582-10-15Z"),Ke=Math.pow(2,12),re=Math.pow(2,32),m=255;let T,I,N;function We(){T=(T+1)%ae}function on(o,e){if(T===null){const n=Pe.generateRandomFilled();T=(0|n[x+0]<<8|n[x+1]<<0)%ae}else o<N&&We();let t=x-1;e[++t]=T>>>8&m,e[++t]=T>>>0&m}function rn(o,e){for(let t=0;t<6;++t)e[Ye+t]=o[t]}function sn(o,e){I=o>N?0:I+1,I===Ke&&(I=0,We());const t=o%re,n=(o-t)/re;let r=Qe-1;e[++r]=n>>>8&m,e[++r]=n>>>0&m,e[++r]=t>>>24&m,e[++r]=t>>>16&m,e[++r]=t>>>8&m,e[++r]=t>>>0&m,e[++r]=I>>>8&m,e[++r]=I>>>0&m}let Je=class extends en{static get VARIANT(){return 1}static get VERSION(){return 6}static reset(){T=null,I=-1,N=-1}static generate({node:e,time:t}={}){t=Ce.toEpoch(Te,t);let n=Pe.generateZeroFilled();return sn(t,n),on(t,n),rn(e||zt.mac_address,n),tn(this.VARIANT,n),nn(this.VERSION,n),t>N&&(N=t),new this(n)}get clock_sequence(){return(0|this.bytes[x]<<8|this.bytes[x+1])&ae-1}get hires_time(){return(0|this.bytes[$e]<<8|this.bytes[$e+1])&Ke-1}get node(){return this.bytes.slice(Ye)}get time(){let e=Qe-1;const t=0|this.bytes[++e]<<8|this.bytes[++e]<<0,n=0|this.bytes[++e]<<24|this.bytes[++e]<<16|this.bytes[++e]<<8|this.bytes[++e]<<0,r=t*re+(n>>>0);return Ce.fromEpoch(Te,r)}};Je.reset();var cn={Uuid6:Je};const ve=f,{Uuid:an,setVariant:Ae,setVersion:Ue}=M;let dn=class extends an{static get VARIANT(){return 0}static get VERSION(){return 0}static generate(){let e=ve.generateZeroFilled();return Ae(this.VARIANT,e),Ue(this.VERSION,e),new this(e)}static MAX(){let e=ve.generateZeroFilled();return Ae(this.VARIANT,e),Ue(this.VERSION,e),new this(e)}};var ln={UuidNil:dn};const{InvalidEncoding:un,InvalidBytes:hn}=V,Q=Symbol("valid_encoding_pattern");let _n=class{constructor({valid_encoding_pattern:e}={}){this[Q]=e}decode(e){if(this.isValidEncoding(e))return this.decodeTrusted(e);throw new un(`Encoding [${e}] does not satisfy ${this[Q]}`)}decodeTrusted(e){return ByteArray.generateRandomFilled()}encode(e){if(this.isValidBytes(e))return this.encodeTrusted(e);throw new hn("Requires a 16-byte Uint8Array")}encodeTrusted(e){return""}isValidBytes(e){return e instanceof Uint8Array&&e.length===16}isValidEncoding(e){return(typeof e=="string"||e instanceof String)&&this[Q].test(e)}};var de={BaseCoder:_n};const{BaseCoder:pn}=de,_="0123456789ABCDEFGHJKMNPQRSTVWXYZ",mn=31,fn=Array.from(_).reduce((o,e,t)=>(o[e]=o[e.toLowerCase()]=t,o),{I:_.indexOf("1"),i:_.indexOf("1"),L:_.indexOf("1"),l:_.indexOf("1"),O:_.indexOf("0"),o:_.indexOf("0"),U:_.indexOf("V"),u:_.indexOf("V")}),gn=Array.from(_);function En(o){return fn[o]}function In(o){return gn[o&mn]}let wn=class extends pn{constructor(){super({valid_encoding_pattern:/^[0-7][^\W_]{25}$/})}decodeTrusted(e){const t=new Uint8Array(16),n=[];for(let r=0,s=e.length;r<s;++r)n.push(En(e[r]));return t[0]=n[0]<<5|n[1],t[1]=n[2]<<3|n[3]>>2,t[2]=n[3]<<6|n[4]<<1|n[5]>>4,t[3]=n[5]<<4|n[6]>>1,t[4]=n[6]<<7|n[7]<<2|n[8]>>3,t[5]=n[8]<<5|n[9],t[6]=n[10]<<3|n[11]>>2,t[7]=n[11]<<6|n[12]<<1|n[13]>>4,t[8]=n[13]<<4|n[14]>>1,t[9]=n[14]<<7|n[15]<<2|n[16]>>3,t[10]=n[16]<<5|n[17],t[11]=n[18]<<3|n[19]>>2,t[12]=n[19]<<6|n[20]<<1|n[21]>>4,t[13]=n[21]<<4|n[22]>>1,t[14]=n[22]<<7|n[23]<<2|n[24]>>3,t[15]=n[24]<<5|n[25],t}encodeTrusted(e){let t=[e[0]>>5,e[0],e[1]>>3,e[1]<<2|e[2]>>6,e[2]>>1,e[2]<<4|e[3]>>4,e[3]<<1|e[4]>>7,e[4]>>2,e[4]<<3|e[5]>>5,e[5],e[6]>>3,e[6]<<2|e[7]>>6,e[7]>>1,e[7]<<4|e[8]>>4,e[8]<<1|e[9]>>7,e[9]>>2,e[9]<<3|e[10]>>5,e[10],e[11]>>3,e[11]<<2|e[12]>>6,e[12]>>1,e[12]<<4|e[13]>>4,e[13]<<1|e[14]>>7,e[14]>>2,e[14]<<3|e[15]>>5,e[15]],n="";for(let r=0,s=t.length;r<s;++r)n+=In(t[r]);return n}};var Cn=new wn;const{BaseCoder:$n}=de,w="0123456789ABCDEF",Tn=Array.from({length:w.length*w.length}).map((o,e)=>""+w.charAt(e/w.length)+w.charAt(e%w.length)),ye=Array.from(w).reduce((o,e,t)=>Object.assign(o,{[e.toUpperCase()]:t,[e.toLowerCase()]:t}),Object.create(null));let vn=class extends $n{constructor(){super({valid_encoding_pattern:/^[0-9A-Fa-f]{32}$/})}decodeTrusted(e){let t=new Uint8Array(16);for(let n=0,r=!0,s=0,u=e.length;s<u;++s){const h=e[s];r?t[n]=ye[h]<<4:t[n++]|=ye[h],r=!r}return t}encodeTrusted(e){let t="";for(let n=0,r=e.length;n<r;++n)t+=Tn[e[n]];return t}};var An=new vn;const{BaseCoder:Un}=de,C="0123456789ABCDEF",a=Array.from({length:C.length*C.length}).map((o,e)=>""+C.charAt(e/C.length)+C.charAt(e%C.length)),Oe=Array.from(C).reduce((o,e,t)=>Object.assign(o,{[e.toUpperCase()]:t,[e.toLowerCase()]:t}),Object.create(null));let yn=class extends Un{constructor(){super({valid_encoding_pattern:/^[0-9A-Fa-f]{4}(?:-?[0-9A-Fa-f]{4}){7}$/})}decodeTrusted(e){let t=new Uint8Array(16);for(let n=0,r=!0,s=0,u=e.length;s<u;++s){const h=e[s];h!=="-"&&(r?t[n]=Oe[h]<<4:t[n++]|=Oe[h],r=!r)}return t}encodeTrusted(e){let t=-1;return""+a[e[++t]]+a[e[++t]]+a[e[++t]]+a[e[++t]]+"-"+a[e[++t]]+a[e[++t]]+"-"+a[e[++t]]+a[e[++t]]+"-"+a[e[++t]]+a[e[++t]]+"-"+a[e[++t]]+a[e[++t]]+a[e[++t]]+a[e[++t]]+a[e[++t]]+a[e[++t]]}};var On=new yn;const E=Symbol("id"),O=Symbol("canonical_coder"),S=Symbol("raw_coder");let Sn=class{constructor({id:e,canonical_coder:t,raw_coder:n}={}){this[E]=class extends e{static get name(){return e.name}static get[Symbol.species](){return e}get[Symbol.toStringTag](){return`${e.name} ${this.toRaw()}`}toCanonical(){return t.encodeTrusted(this.bytes)}toRaw(){return n.encodeTrusted(this.bytes)}},this[O]=t,this[S]=n}get name(){return this[E].name}get type(){return this[E][Symbol.species]}construct(e){return new this[E](e)}generate(){return this[E].generate(...arguments)}MIN(){return this[E].MIN(...arguments)}MAX(){return this[E].MAX(...arguments)}fromCanonical(e){return this.construct(this[O].decode(e))}fromCanonicalTrusted(e){return this.construct(this[O].decodeTrusted(e))}fromRaw(e){return this.construct(this[S].decode(e))}fromRawTrusted(e){return this.construct(this[S].decodeTrusted(e))}toCanonical(e){return this[O].encode(e.bytes)}toRaw(e){return this[S].encode(e.bytes)}compare(e,t){return console.warn("Deprecated: use generic idCompare instead."),e.compare(t)}equal(e,t){return console.warn("Deprecated: use generic idEqual instead."),e.equal(t)}isCanonical(e){return this[O].isValidEncoding(e)}isRaw(e){return this[S].isValidEncoding(e)}};var ze={IdFactory:Sn};const{IdFactory:Se}=ze,{UnsupportedVersion:et}=V,se=Symbol("id_by_version");function B(o,{version:e}={}){return o[se][e]||(()=>{throw new et(`No support for version [${e}]`)})()}let Fn=class extends Se{constructor({abstract_id:e,versioned_ids:t,canonical_coder:n,raw_coder:r}){super({id:e,canonical_coder:n,raw_coder:r}),this[se]=t.reduce((s,u)=>Object.assign(s,{[u.MIN().version]:new Se({id:u,canonical_coder:n,raw_coder:r})}),Object.create(null))}get versioned_ids(){return Object.values(this[se])}construct(e){const t=super.construct(e),n=t.version;try{return B(this,{version:n}).construct(e)}catch(r){if(r instanceof et)return t;throw r}}generate(){return B(this,...arguments).generate(...arguments)}MIN(){return B(this,...arguments).MIN()}MAX(){return B(this,...arguments).MAX()}};var Rn={VersionedIdFactory:Fn};const{Ulid:xn}=be,{UlidMonotonic:Nn}=Vt,{Uuid:Vn}=M,{Uuid1:Mn}=Zt,{Uuid4:Bn}=Jt,{Uuid6:bn}=cn,{UuidNil:Dn}=ln,Fe=Cn,Y=An,kn=On,{IdFactory:Re}=ze,{VersionedIdFactory:qn}=Rn,Xn=V,ie={idCompare:function(o,e){return o.compare(e)},idEqual:function(o,e){return o.equal(e)},Exception:Xn,Ulid:new Re({id:xn,canonical_coder:Fe,raw_coder:Y}),UlidMonotonic:new Re({id:Nn,canonical_coder:Fe,raw_coder:Y}),Uuid:new qn({abstract_id:Vn,versioned_ids:[Mn,Bn,bn,Dn],canonical_coder:kn,raw_coder:Y})};ie.Uuid.versioned_ids.reduce((o,e)=>Object.assign(o,{[e.name]:e}),ie);var Hn=ie;const Ln=dt(Hn),jn=o=>{const e=document.createElement("textarea");e.value=o,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{if(!document.execCommand("copy"))throw new Error("Oops, unable to copy")}catch(t){console.error("Fallback: Oops, unable to copy",t)}document.body.removeChild(e)},xe=o=>{if(!navigator.clipboard){jn(o);return}navigator.clipboard.writeText(o)};var b;(o=>{o.GUID=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,o.ULID=/^[0-7][0-9A-HJKMNP-TV-Z]{25}$/})(b||(b={}));const Gn={class:"p-sm"},Zn=c("h1",null,"Ulid",-1),Pn=c("label",{for:"count"},"Count: ",-1),Qn=c("br",null,null,-1),Yn=c("button",{type:"submit"},"Generate ID(s)",-1),Kn=c("hr",null,null,-1),Wn=c("label",{for:"ulid"},"ULID",-1),Jn=c("br",null,null,-1),zn=c("label",{for:"guid"},"GUID",-1),eo=c("br",null,null,-1),vo=rt({__name:"ulid",setup(o){const{Ulid:e,Uuid:t}=Ln,n=q(1),r=q(""),s=q(""),u=d=>{d.preventDefault(),h()},h=()=>{const d=new Array(n.value).fill(null).map(()=>tt());r.value=d.map(i=>i.ulid).join(`
`),s.value=d.map(i=>i.guid).join(`
`)},tt=()=>{const d=e.generate(),i=d.toCanonical(),l=t.fromRaw(d.toRaw()).toCanonical();return{ulid:i,guid:l}},nt=()=>{const d=[],i=s.value.match(new RegExp(b.GUID,"gim"));if(i){for(const l of i)try{const y=t.fromCanonical(l),k=e.fromRaw(y.toRaw()).toCanonical();d.push(k)}catch{continue}r.value=d.join(`
`)}},ot=()=>{const d=[],i=r.value.match(new RegExp(b.ULID,"gim"));if(i){for(const l of i)try{const y=e.fromCanonical(l),k=t.fromRaw(y.toRaw()).toCanonical();d.push(k)}catch{continue}s.value=d.join(`
`)}};return st(n,()=>h()),it(()=>{h()}),(d,i)=>(ct(),at("div",Gn,[Zn,c("form",{onSubmit:u},[c("div",null,[Pn,X(c("input",{id:"count","onUpdate:modelValue":i[0]||(i[0]=l=>L(n)?n.value=l:null),type:"number",name:"count",min:"1",max:"100"},null,512),[[H,g(n)]])]),Qn,Yn,Kn,c("div",null,[Wn,c("button",{class:"copy-btn",type:"button",onClick:i[1]||(i[1]=l=>g(xe)(g(r)))}," copy "),Jn,X(c("textarea",{id:"ulid","onUpdate:modelValue":i[2]||(i[2]=l=>L(r)?r.value=l:null),name:"ulid",class:"id-input",rows:"10",onChange:le(ot,["prevent"])},null,544),[[H,g(r)]])]),c("div",null,[zn,c("button",{class:"copy-btn",type:"button",onClick:i[3]||(i[3]=l=>g(xe)(g(s)))}," copy "),eo,X(c("textarea",{id:"guid","onUpdate:modelValue":i[4]||(i[4]=l=>L(s)?s.value=l:null),name:"guid",class:"id-input",rows:"10",onChange:le(nt,["prevent"])},null,544),[[H,g(s)]])])],32)]))}});export{vo as default};
