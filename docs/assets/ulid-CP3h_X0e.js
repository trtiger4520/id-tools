import{d as Je,r as b,w as ze,b as et,o as tt,c as nt,a as i,e as D,v as k,u as f,i as q}from"./app-NHjlQSVm.js";function rt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}const ot=self.crypto;function st(r){const e=new Uint8Array(r);return ot.getRandomValues(e),e}var Se={randomBytes:st};const{randomBytes:it}=Se,X=16;let ct=class{compare(e,t){const n=e.findIndex((o,s)=>o!==t[s]);return~n&&Math.sign(e[n]-t[n])}generateOneFilled(){return new Uint8Array(X).fill(255)}generateRandomFilled(){return it(X)}generateZeroFilled(){return new Uint8Array(X).fill(0)}};var g=new ct;class U extends Error{get name(){return this.constructor.name}}let at=class extends U{},dt=class extends U{},lt=class extends U{},ut=class extends U{},ht=class extends U{};var V={Id128Error:U,ClockSequenceOverflow:at,InvalidBytes:dt,InvalidEncoding:lt,InvalidEpoch:ut,UnsupportedVersion:ht};const{InvalidEpoch:ce}=V,ae=0,de=Math.pow(2,48);let _t=class{fromEpoch(e,t){return new Date(t+e)}toEpoch(e,t=null){const o=(t===null?Date.now():Number.isInteger(t)?t:t instanceof Date?t.getTime():(()=>{throw new ce(`Failed to coerce time [${t}] to epoch`)})())-e;if(o<ae||o>=de){const s=new Date(ae+e).toISOString(),d=new Date(de-1+e).toISOString();throw new ce(`Epoch must be between ${s} and ${d}`)}return o}};var B=new _t;const pt=g,le=Symbol("bytes");let mt=class{constructor(e){this[le]=e}clone(){return new this.constructor(this.bytes.slice())}get bytes(){return this[le]}get[Symbol.toStringTag](){return this.constructor.name}compare(e){return pt.compare(this.bytes,e.bytes)}equal(e){return this.compare(e)===0}};var Fe={BaseId:mt};const H=g,ue=B,{BaseId:gt}=Fe,Ne=0,he=0,P=Math.pow(2,32),C=255;function xe(r,e){const t=r%P,n=(r-t)/P;let o=Ne-1;e[++o]=n>>>8&C,e[++o]=n>>>0&C,e[++o]=t>>>24&C,e[++o]=t>>>16&C,e[++o]=t>>>8&C,e[++o]=t>>>0&C}let ft=class extends gt{static generate({time:e}={}){e=ue.toEpoch(he,e);let t=H.generateRandomFilled();return xe(e,t),new this(t)}static MIN(){return new this(H.generateZeroFilled())}static MAX(){return new this(H.generateOneFilled())}get time(){let e=Ne-1;const t=0|this.bytes[++e]<<8|this.bytes[++e]<<0,n=0|this.bytes[++e]<<24|this.bytes[++e]<<16|this.bytes[++e]<<8|this.bytes[++e]<<0,o=t*P+(n>>>0);return ue.fromEpoch(he,o)}};var Ve={Ulid:ft,setTime:xe};const{Ulid:Et,setTime:It}=Ve,$t=g,Tt=B,{ClockSequenceOverflow:wt}=V,At=0,Me=6,Re=8,Ct=0;let Y,L;function vt(r){for(let e=Re-1,t=Me-1;e>t;--e)if(r[e]===255)r[e]=0;else{++r[e];return}throw new wt("Exhausted clock sequence")}function Ut(r){r[Me]&=127}function yt(r){for(let e=At;e<Re;++e)r[e]=Y.bytes[e]}let Be=class extends Et{static reset(){L=-1,Y=this.MIN()}static generate({time:e}={}){e=Tt.toEpoch(Ct,e);let t=$t.generateRandomFilled();return e<=L?(yt(t),vt(t)):(It(e,t),Ut(t),L=e),Y=new this(t)}};Be.reset();var Ot={UlidMonotonic:Be};const{BaseId:St}=Fe,_e=g,G=8,K=6;function W(r,e){e[G]&=255>>>r+1,e[G]|=(7<<3-r&7)<<5}function J(r,e){e[K]&=15,e[K]|=r<<4}let Ft=class extends St{static MIN(){let e=_e.generateZeroFilled();return W(this.VARIANT,e),J(this.VERSION,e),new this(e)}static MAX(){let e=_e.generateOneFilled();return W(this.VARIANT,e),J(this.VERSION,e),new this(e)}get variant(){const e=this.bytes[G]>>>5;return e===7?3:(e&6)===6?2:(e&4)===4?1:0}get version(){return this.bytes[K]>>>4}};var M={Uuid:Ft,setVersion:J,setVariant:W};const{randomBytes:Nt}=Se,j=Symbol("mac-address");class xt{constructor(){this.reset()}get mac_address(){let e=this[j];return e||(e=this[j]=Nt(6),e[0]|=1),e}reset(){this[j]=null}}var be=new xt;const De=g,pe=B,Vt=be,{Uuid:Mt,setVariant:Rt,setVersion:Bt}=M,ke=0,me=2,S=8,qe=10,oe=Math.pow(2,14),ge=Date.parse("1582-10-15Z"),z=Math.pow(2,12),ee=Math.pow(2,20),h=255;let w,v,F;function Xe(){w=(w+1)%oe}function bt(r,e){if(w===null){const n=De.generateRandomFilled();w=(0|n[S+0]<<8|n[S+1]<<0)%oe}else r<F&&Xe();let t=S-1;e[++t]=w>>>8&h,e[++t]=w>>>0&h}function Dt(r,e){for(let t=0;t<6;++t)e[qe+t]=r[t]}function kt(r,e){v=r>F?0:v+1,v===z&&(v=0,Xe());const t=r%ee,n=t*z+v,o=(r-t)/ee;let s=ke-1;e[++s]=n>>>24&h,e[++s]=n>>>16&h,e[++s]=n>>>8&h,e[++s]=n>>>0&h,e[++s]=o>>>8&h,e[++s]=o>>>0&h,e[++s]=o>>>24&h,e[++s]=o>>>16&h}let He=class extends Mt{static get VARIANT(){return 1}static get VERSION(){return 1}static reset(){w=null,v=-1,F=-1}static generate({node:e,time:t}={}){t=pe.toEpoch(ge,t);let n=De.generateZeroFilled();return kt(t,n),bt(t,n),Dt(e||Vt.mac_address,n),Rt(this.VARIANT,n),Bt(this.VERSION,n),t>F&&(F=t),new this(n)}get clock_sequence(){return(0|this.bytes[S]<<8|this.bytes[S+1])&oe-1}get hires_time(){return(0|this.bytes[me]<<8|this.bytes[me+1])&z-1}get node(){return this.bytes.slice(qe)}get time(){let e=ke-1;const t=0|this.bytes[++e]<<12|this.bytes[++e]<<4|this.bytes[++e]>>>4;++e;const o=(0|this.bytes[++e]<<8|this.bytes[++e]<<0|(this.bytes[++e]&15)<<24|this.bytes[++e]<<16)*ee+t;return pe.fromEpoch(ge,o)}};He.reset();var qt={Uuid1:He};const Xt=g,{Uuid:Ht,setVariant:Lt,setVersion:jt}=M;let Qt=class extends Ht{static get VARIANT(){return 1}static get VERSION(){return 4}static generate(){let e=Xt.generateRandomFilled();return Lt(this.VARIANT,e),jt(this.VERSION,e),new this(e)}};var Zt={Uuid4:Qt};const Le=g,fe=B,Pt=be,{Uuid:Yt,setVariant:Gt,setVersion:Kt}=M,je=0,Ee=6,N=8,Qe=10,se=Math.pow(2,14),Ie=Date.parse("1582-10-15Z"),Ze=Math.pow(2,12),te=Math.pow(2,32),_=255;let A,I,x;function Pe(){A=(A+1)%se}function Wt(r,e){if(A===null){const n=Le.generateRandomFilled();A=(0|n[N+0]<<8|n[N+1]<<0)%se}else r<x&&Pe();let t=N-1;e[++t]=A>>>8&_,e[++t]=A>>>0&_}function Jt(r,e){for(let t=0;t<6;++t)e[Qe+t]=r[t]}function zt(r,e){I=r>x?0:I+1,I===Ze&&(I=0,Pe());const t=r%te,n=(r-t)/te;let o=je-1;e[++o]=n>>>8&_,e[++o]=n>>>0&_,e[++o]=t>>>24&_,e[++o]=t>>>16&_,e[++o]=t>>>8&_,e[++o]=t>>>0&_,e[++o]=I>>>8&_,e[++o]=I>>>0&_}let Ye=class extends Yt{static get VARIANT(){return 1}static get VERSION(){return 6}static reset(){A=null,I=-1,x=-1}static generate({node:e,time:t}={}){t=fe.toEpoch(Ie,t);let n=Le.generateZeroFilled();return zt(t,n),Wt(t,n),Jt(e||Pt.mac_address,n),Gt(this.VARIANT,n),Kt(this.VERSION,n),t>x&&(x=t),new this(n)}get clock_sequence(){return(0|this.bytes[N]<<8|this.bytes[N+1])&se-1}get hires_time(){return(0|this.bytes[Ee]<<8|this.bytes[Ee+1])&Ze-1}get node(){return this.bytes.slice(Qe)}get time(){let e=je-1;const t=0|this.bytes[++e]<<8|this.bytes[++e]<<0,n=0|this.bytes[++e]<<24|this.bytes[++e]<<16|this.bytes[++e]<<8|this.bytes[++e]<<0,o=t*te+(n>>>0);return fe.fromEpoch(Ie,o)}};Ye.reset();var en={Uuid6:Ye};const $e=g,{Uuid:tn,setVariant:Te,setVersion:we}=M;let nn=class extends tn{static get VARIANT(){return 0}static get VERSION(){return 0}static generate(){let e=$e.generateZeroFilled();return Te(this.VARIANT,e),we(this.VERSION,e),new this(e)}static MAX(){let e=$e.generateZeroFilled();return Te(this.VARIANT,e),we(this.VERSION,e),new this(e)}};var rn={UuidNil:nn};const{InvalidEncoding:on,InvalidBytes:sn}=V,Q=Symbol("valid_encoding_pattern");let cn=class{constructor({valid_encoding_pattern:e}={}){this[Q]=e}decode(e){if(this.isValidEncoding(e))return this.decodeTrusted(e);throw new on(`Encoding [${e}] does not satisfy ${this[Q]}`)}decodeTrusted(e){return ByteArray.generateRandomFilled()}encode(e){if(this.isValidBytes(e))return this.encodeTrusted(e);throw new sn("Requires a 16-byte Uint8Array")}encodeTrusted(e){return""}isValidBytes(e){return e instanceof Uint8Array&&e.length===16}isValidEncoding(e){return(typeof e=="string"||e instanceof String)&&this[Q].test(e)}};var ie={BaseCoder:cn};const{BaseCoder:an}=ie,u="0123456789ABCDEFGHJKMNPQRSTVWXYZ",dn=31,ln=Array.from(u).reduce((r,e,t)=>(r[e]=r[e.toLowerCase()]=t,r),{I:u.indexOf("1"),i:u.indexOf("1"),L:u.indexOf("1"),l:u.indexOf("1"),O:u.indexOf("0"),o:u.indexOf("0"),U:u.indexOf("V"),u:u.indexOf("V")}),un=Array.from(u);function hn(r){return ln[r]}function _n(r){return un[r&dn]}let pn=class extends an{constructor(){super({valid_encoding_pattern:/^[0-7][^\W_]{25}$/})}decodeTrusted(e){const t=new Uint8Array(16),n=[];for(let o=0,s=e.length;o<s;++o)n.push(hn(e[o]));return t[0]=n[0]<<5|n[1],t[1]=n[2]<<3|n[3]>>2,t[2]=n[3]<<6|n[4]<<1|n[5]>>4,t[3]=n[5]<<4|n[6]>>1,t[4]=n[6]<<7|n[7]<<2|n[8]>>3,t[5]=n[8]<<5|n[9],t[6]=n[10]<<3|n[11]>>2,t[7]=n[11]<<6|n[12]<<1|n[13]>>4,t[8]=n[13]<<4|n[14]>>1,t[9]=n[14]<<7|n[15]<<2|n[16]>>3,t[10]=n[16]<<5|n[17],t[11]=n[18]<<3|n[19]>>2,t[12]=n[19]<<6|n[20]<<1|n[21]>>4,t[13]=n[21]<<4|n[22]>>1,t[14]=n[22]<<7|n[23]<<2|n[24]>>3,t[15]=n[24]<<5|n[25],t}encodeTrusted(e){let t=[e[0]>>5,e[0],e[1]>>3,e[1]<<2|e[2]>>6,e[2]>>1,e[2]<<4|e[3]>>4,e[3]<<1|e[4]>>7,e[4]>>2,e[4]<<3|e[5]>>5,e[5],e[6]>>3,e[6]<<2|e[7]>>6,e[7]>>1,e[7]<<4|e[8]>>4,e[8]<<1|e[9]>>7,e[9]>>2,e[9]<<3|e[10]>>5,e[10],e[11]>>3,e[11]<<2|e[12]>>6,e[12]>>1,e[12]<<4|e[13]>>4,e[13]<<1|e[14]>>7,e[14]>>2,e[14]<<3|e[15]>>5,e[15]],n="";for(let o=0,s=t.length;o<s;++o)n+=_n(t[o]);return n}};var mn=new pn;const{BaseCoder:gn}=ie,$="0123456789ABCDEF",fn=Array.from({length:$.length*$.length}).map((r,e)=>""+$.charAt(e/$.length)+$.charAt(e%$.length)),Ae=Array.from($).reduce((r,e,t)=>Object.assign(r,{[e.toUpperCase()]:t,[e.toLowerCase()]:t}),Object.create(null));let En=class extends gn{constructor(){super({valid_encoding_pattern:/^[0-9A-Fa-f]{32}$/})}decodeTrusted(e){let t=new Uint8Array(16);for(let n=0,o=!0,s=0,d=e.length;s<d;++s){const l=e[s];o?t[n]=Ae[l]<<4:t[n++]|=Ae[l],o=!o}return t}encodeTrusted(e){let t="";for(let n=0,o=e.length;n<o;++n)t+=fn[e[n]];return t}};var In=new En;const{BaseCoder:$n}=ie,T="0123456789ABCDEF",a=Array.from({length:T.length*T.length}).map((r,e)=>""+T.charAt(e/T.length)+T.charAt(e%T.length)),Ce=Array.from(T).reduce((r,e,t)=>Object.assign(r,{[e.toUpperCase()]:t,[e.toLowerCase()]:t}),Object.create(null));let Tn=class extends $n{constructor(){super({valid_encoding_pattern:/^[0-9A-Fa-f]{4}(?:-?[0-9A-Fa-f]{4}){7}$/})}decodeTrusted(e){let t=new Uint8Array(16);for(let n=0,o=!0,s=0,d=e.length;s<d;++s){const l=e[s];l!=="-"&&(o?t[n]=Ce[l]<<4:t[n++]|=Ce[l],o=!o)}return t}encodeTrusted(e){let t=-1;return""+a[e[++t]]+a[e[++t]]+a[e[++t]]+a[e[++t]]+"-"+a[e[++t]]+a[e[++t]]+"-"+a[e[++t]]+a[e[++t]]+"-"+a[e[++t]]+a[e[++t]]+"-"+a[e[++t]]+a[e[++t]]+a[e[++t]]+a[e[++t]]+a[e[++t]]+a[e[++t]]}};var wn=new Tn;const E=Symbol("id"),y=Symbol("canonical_coder"),O=Symbol("raw_coder");let An=class{constructor({id:e,canonical_coder:t,raw_coder:n}={}){this[E]=class extends e{static get name(){return e.name}static get[Symbol.species](){return e}get[Symbol.toStringTag](){return`${e.name} ${this.toRaw()}`}toCanonical(){return t.encodeTrusted(this.bytes)}toRaw(){return n.encodeTrusted(this.bytes)}},this[y]=t,this[O]=n}get name(){return this[E].name}get type(){return this[E][Symbol.species]}construct(e){return new this[E](e)}generate(){return this[E].generate(...arguments)}MIN(){return this[E].MIN(...arguments)}MAX(){return this[E].MAX(...arguments)}fromCanonical(e){return this.construct(this[y].decode(e))}fromCanonicalTrusted(e){return this.construct(this[y].decodeTrusted(e))}fromRaw(e){return this.construct(this[O].decode(e))}fromRawTrusted(e){return this.construct(this[O].decodeTrusted(e))}toCanonical(e){return this[y].encode(e.bytes)}toRaw(e){return this[O].encode(e.bytes)}compare(e,t){return console.warn("Deprecated: use generic idCompare instead."),e.compare(t)}equal(e,t){return console.warn("Deprecated: use generic idEqual instead."),e.equal(t)}isCanonical(e){return this[y].isValidEncoding(e)}isRaw(e){return this[O].isValidEncoding(e)}};var Ge={IdFactory:An};const{IdFactory:ve}=Ge,{UnsupportedVersion:Ke}=V,ne=Symbol("id_by_version");function R(r,{version:e}={}){return r[ne][e]||(()=>{throw new Ke(`No support for version [${e}]`)})()}let Cn=class extends ve{constructor({abstract_id:e,versioned_ids:t,canonical_coder:n,raw_coder:o}){super({id:e,canonical_coder:n,raw_coder:o}),this[ne]=t.reduce((s,d)=>Object.assign(s,{[d.MIN().version]:new ve({id:d,canonical_coder:n,raw_coder:o})}),Object.create(null))}get versioned_ids(){return Object.values(this[ne])}construct(e){const t=super.construct(e),n=t.version;try{return R(this,{version:n}).construct(e)}catch(o){if(o instanceof Ke)return t;throw o}}generate(){return R(this,...arguments).generate(...arguments)}MIN(){return R(this,...arguments).MIN()}MAX(){return R(this,...arguments).MAX()}};var vn={VersionedIdFactory:Cn};const{Ulid:Un}=Ve,{UlidMonotonic:yn}=Ot,{Uuid:On}=M,{Uuid1:Sn}=qt,{Uuid4:Fn}=Zt,{Uuid6:Nn}=en,{UuidNil:xn}=rn,Ue=mn,Z=In,Vn=wn,{IdFactory:ye}=Ge,{VersionedIdFactory:Mn}=vn,Rn=V,re={idCompare:function(r,e){return r.compare(e)},idEqual:function(r,e){return r.equal(e)},Exception:Rn,Ulid:new ye({id:Un,canonical_coder:Ue,raw_coder:Z}),UlidMonotonic:new ye({id:yn,canonical_coder:Ue,raw_coder:Z}),Uuid:new Mn({abstract_id:On,versioned_ids:[Sn,Fn,Nn,xn],canonical_coder:Vn,raw_coder:Z})};re.Uuid.versioned_ids.reduce((r,e)=>Object.assign(r,{[e.name]:e}),re);var Bn=re;const bn=rt(Bn),Dn=r=>{const e=document.createElement("textarea");e.value=r,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{if(!document.execCommand("copy"))throw new Error("Oops, unable to copy")}catch(t){console.error("Fallback: Oops, unable to copy",t)}document.body.removeChild(e)},Oe=r=>{if(!navigator.clipboard){Dn(r);return}navigator.clipboard.writeText(r)},kn=i("h1",null,"Ulid",-1),qn=i("label",{for:"count"},"Count: ",-1),Xn=i("br",null,null,-1),Hn=i("button",{type:"submit"},"Generate ID(s)",-1),Ln=i("hr",null,null,-1),jn=i("label",{for:"ulid"},"ULID",-1),Qn=i("br",null,null,-1),Zn=i("label",{for:"guid"},"GUID",-1),Pn=i("br",null,null,-1),gr=Je({__name:"ulid",setup(r){const{Ulid:e,Uuid:t}=bn,n=b(1),o=b(""),s=b(""),d=m=>{m.preventDefault(),l()},l=()=>{const m=new Array(n.value).fill(null).map(()=>We());o.value=m.map(c=>c.ulid).join(`
`),s.value=m.map(c=>c.guid).join(`
`)},We=()=>{const m=e.generate(),c=m.toCanonical(),p=t.fromRaw(m.toRaw()).toCanonical();return{ulid:c,guid:p}};return ze(n,()=>l()),et(()=>{l()}),(m,c)=>(tt(),nt("div",null,[kn,i("form",{onSubmit:d},[i("div",null,[qn,D(i("input",{id:"count","onUpdate:modelValue":c[0]||(c[0]=p=>q(n)?n.value=p:null),type:"number",name:"count",min:"1",max:"100"},null,512),[[k,f(n)]])]),Xn,Hn,Ln,i("div",null,[jn,i("button",{class:"copy-btn",type:"button",onClick:c[1]||(c[1]=p=>f(Oe)(f(o)))}," copy "),Qn,D(i("textarea",{id:"ulid","onUpdate:modelValue":c[2]||(c[2]=p=>q(o)?o.value=p:null),name:"ulid",class:"id-input",readonly:""},null,512),[[k,f(o)]])]),i("div",null,[Zn,i("button",{class:"copy-btn",type:"button",onClick:c[3]||(c[3]=p=>f(Oe)(f(s)))}," copy "),Pn,D(i("textarea",{id:"guid","onUpdate:modelValue":c[4]||(c[4]=p=>q(s)?s.value=p:null),name:"guid",class:"id-input"},null,512),[[k,f(s)]])])],32)]))}});export{gr as default};
